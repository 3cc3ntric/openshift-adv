apiVersion: v1
kind: ConfigMap
metadata:
  name: nginx-dashboard
  namespace: monitoring
data:
  nginx-dashboard.json: |
    {
      "annotations": {
        "list": []
      },
      "panels": [
        {
          "title": "HTTP Requests",
          "type": "graph",
          "targets": [
            {
              "expr": "rate(nginx_http_requests_total[1m])",
              "legendFormat": "Requests"
            }
          ]
        },
        {
          "title": "Active Connections",
          "type": "singlestat",
          "targets": [
            {
              "expr": "nginx_connections_active",
              "legendFormat": "Active"
            }
          ]
        }
      ],
      "title": "Nginx Metrics"
    }